# uart_pl011_putcharで停止している状態から確認するコマンド

# ステップ1: 現在のスタックトレースを確認
bt
bt 10  # 上位10フレームを表示

# ステップ2: 現在のレジスタを確認
info registers
print/x $x0  # 送信する文字
print/c $x0

# ステップ3: 呼び出し元のフレームに移動
frame 1  # 呼び出し元のフレームに移動
list  # 呼び出し元のコードを表示
info registers  # 呼び出し元のレジスタを確認

# ステップ4: 呼び出し元のコードを逆アセンブル
disassemble

# ステップ5: 文字列のアドレスを確認（もし文字列のアドレスがレジスタにある場合）
# frame 1で確認したレジスタを使って
print/x $x0  # 文字列のアドレスかもしれない
x/s $x0  # 文字列の内容を確認
x/32x $x0  # 文字列のメモリ内容を確認

# ステップ6: さらに上位のフレームを確認
frame 2  # さらに上位のフレーム
list
info registers

# ステップ7: usermainまで遡る
# frame番号を確認して、usermainのフレームに移動
frame N  # Nはusermainのフレーム番号
list
info registers

