# 文字列の送信元を確認するGDBコマンド

# 現在、uart_pl011_putcharで停止している状態から：

# ステップ1: スタックトレースを確認（どこから呼ばれているか）
bt
bt 5  # 上位5フレームを表示

# ステップ2: 呼び出し元のフレームに移動
frame 1  # 呼び出し元のフレームに移動
list  # 呼び出し元のコードを表示

# ステップ3: 呼び出し元のレジスタを確認
info registers
print/x $x0  # 引数（文字列のアドレスまたは文字）

# ステップ4: 呼び出し元のコードを逆アセンブル
disassemble

# ステップ5: 文字列のアドレスを確認（put_stringから呼ばれている場合）
# frame 1で確認したアドレスを使って
x/s $x0  # 文字列の内容を確認
x/32x $x0  # 文字列のメモリ内容を確認

# ステップ6: 最初の文字を確認
print/x *(char*)$x0
print/c *(char*)$x0

# ステップ7: 次の文字を確認
print/x *(char*)($x0+1)
print/c *(char*)($x0+1)

