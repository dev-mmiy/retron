# GDB初期設定ガイド

## 現在の状態

QEMUが停止状態（`-S`オプション）で起動しているため：
- PC = 0x0（エントリーポイントではない）
- SP = 0x0（スタックポインタが無効）
- すべてのレジスタが0x0

## 初期設定手順

### ステップ1: エントリーポイントに移動

```gdb
(gdb) set $pc = 0x40200000
(gdb) info registers pc
```

PCレジスタが0x40200000を指していることを確認します。

### ステップ2: スタックポインタを設定

```gdb
(gdb) set $sp = 0x4ff00000
(gdb) info registers sp
```

スタックポインタが有効なアドレス（0x4ff00000）を指していることを確認します。

### ステップ3: 現在の命令を確認

```gdb
(gdb) x/10i $pc
```

`start`関数のコードが表示されることを確認します。

### ステップ4: 実行を開始

```gdb
(gdb) continue
```

または短縮形：
```gdb
(gdb) c
```

## 期待される動作

正常に動作している場合：
1. PCレジスタが0x40200000を指す
2. `start`関数のコードが表示される
3. `continue`で実行を開始すると、`start`ブレークポイントで停止する
4. その後、`main`、`uart_pl011_init`、`uart_pl011_putchar`の順にブレークポイントで停止する

## 注意事項

- QEMUは`-S`オプションで停止状態で起動するため、手動でPCとSPを設定する必要があります
- これは正常な動作です（デバッグのため）
- 一度設定すれば、その後は正常に実行されます
