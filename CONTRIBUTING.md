# ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¬ã‚¤ãƒ‰

Retron OSã¸ã®è²¢çŒ®ã«èˆˆå‘³ã‚’æŒã£ã¦ã„ãŸã ãã€ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼

## ğŸ“‹ ç›®æ¬¡

- [è¡Œå‹•è¦ç¯„](#è¡Œå‹•è¦ç¯„)
- [é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)
- [ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ](#ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ)
- [ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ä½œæˆ](#ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ä½œæˆ)
- [ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„](#ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„)
- [ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸](#ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸)

## è¡Œå‹•è¦ç¯„

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€ã™ã¹ã¦ã®å‚åŠ è€…ã«å¯¾ã—ã¦æ•¬æ„ã‚’æ‰•ã†ã“ã¨ã‚’æ±‚ã‚ã¦ã„ã¾ã™ã€‚

## é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å¿…è¦ãªç’°å¢ƒ

- **Rust**: nightlyç‰ˆ
- **QEMU**: çµ±åˆãƒ†ã‚¹ãƒˆç”¨
- **Git**: ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ‰‹é †

```bash
# 1. Rust nightlyã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
rustup default nightly

# 2. å¿…è¦ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è¿½åŠ 
rustup component add rustfmt clippy

# 3. ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã®è¿½åŠ 
rustup target add x86_64-unknown-none

# 4. QEMUã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆUbuntu/Debianï¼‰
sudo apt-get install qemu-system-x86

# 5. ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/dev-mmiy/retron.git
cd retron
```

### åˆå›ãƒ“ãƒ«ãƒ‰

```bash
cd kernel
cargo build --release --target x86_64-unknown-none
```

## ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ

### ğŸ“ ãƒ—ãƒƒã‚·ãƒ¥å‰ã®å¿…é ˆãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

**ã™ã¹ã¦ã®PRã¯ä»¥ä¸‹ã®ãƒã‚§ãƒƒã‚¯ã«åˆæ ¼ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼š**

#### 1. ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒã‚§ãƒƒã‚¯

```bash
cd kernel
cargo fmt --all
```

**ãƒã‚§ãƒƒã‚¯ï¼ˆå¤‰æ›´ãªã—ã‚’ç¢ºèªï¼‰:**

```bash
cargo fmt --all -- --check
```

#### 2. Clippyãƒã‚§ãƒƒã‚¯ï¼ˆã‚¼ãƒ­è­¦å‘Šå¿…é ˆï¼‰

```bash
cd kernel
cargo clippy --lib --bins -- -D warnings
```

**é‡è¦**: è­¦å‘ŠãŒ1ã¤ã§ã‚‚ã‚ã‚‹ã¨CI/CDãŒå¤±æ•—ã—ã¾ã™ã€‚

**ã‚ˆãã‚ã‚‹è­¦å‘Šã®ä¿®æ­£æ–¹æ³•:**

```bash
# è‡ªå‹•ä¿®æ­£ã‚’è©¦ã™
cargo clippy --lib --bins --fix --allow-dirty

# æ‰‹å‹•ã§ä¿®æ­£ãŒå¿…è¦ãªå ´åˆã¯ã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«å¾“ã£ã¦ä¿®æ­£
```

#### 3. ãƒªãƒªãƒ¼ã‚¹ãƒ“ãƒ«ãƒ‰

```bash
cd kernel
cargo build --release --target x86_64-unknown-none
```

**ãƒ‡ãƒãƒƒã‚°ãƒ“ãƒ«ãƒ‰ï¼ˆé–‹ç™ºä¸­ï¼‰:**

```bash
cargo build
```

#### 4. QEMUã§å‹•ä½œç¢ºèªï¼ˆæ¨å¥¨ï¼‰

```bash
# ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§å®Ÿè¡Œ
make run-qemu
```

**æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ:**
- ã‚«ãƒ¼ãƒãƒ«ãŒèµ·å‹•ã™ã‚‹
- åŸºæœ¬çš„ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã—ãªã„

### âš¡ ã‚¯ã‚¤ãƒƒã‚¯ãƒ†ã‚¹ãƒˆï¼ˆä¸€æ‹¬å®Ÿè¡Œï¼‰

ã™ã¹ã¦ã®ãƒã‚§ãƒƒã‚¯ã‚’ä¸€åº¦ã«å®Ÿè¡Œï¼š

```bash
cd kernel && \
  cargo fmt --all && \
  cargo clippy --lib --bins -- -D warnings && \
  cargo build --release --target x86_64-unknown-none && \
  echo "âœ… All checks passed!"
```

### ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

#### ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚¨ãƒ©ãƒ¼

```bash
cd kernel
cargo fmt --all
git diff  # å¤‰æ›´å†…å®¹ã‚’ç¢ºèª
```

#### Clippyè­¦å‘Š

```bash
# è­¦å‘Šã®è©³ç´°ã‚’ç¢ºèª
cd kernel
cargo clippy --lib --bins -- -D warnings 2>&1 | less

# è‡ªå‹•ä¿®æ­£ã‚’è©¦ã™
cargo clippy --lib --bins --fix --allow-dirty
```

#### ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼

```bash
# ã‚¯ãƒªãƒ¼ãƒ³ãƒ“ãƒ«ãƒ‰ã‚’è©¦ã™
cd kernel
cargo clean
cargo build --release --target x86_64-unknown-none

# ä¾å­˜é–¢ä¿‚ã‚’æ›´æ–°
cargo update
```

## ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ä½œæˆ

### 1. ãƒ–ãƒ©ãƒ³ãƒã®ä½œæˆ

```bash
git checkout -b feature/your-feature-name
```

**ãƒ–ãƒ©ãƒ³ãƒå‘½åè¦å‰‡:**
- `feature/` - æ–°æ©Ÿèƒ½
- `fix/` - ãƒã‚°ä¿®æ­£
- `refactor/` - ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
- `docs/` - ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°

### 2. å¤‰æ›´ã®å®Ÿæ–½

1. ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´
2. ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œï¼ˆä¸Šè¨˜å‚ç…§ï¼‰
3. ã™ã¹ã¦ã®ãƒã‚§ãƒƒã‚¯ãŒé€šéã™ã‚‹ã“ã¨ã‚’ç¢ºèª

### 3. ã‚³ãƒŸãƒƒãƒˆ

```bash
# å¤‰æ›´ã‚’ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°
git add .

# ã‚³ãƒŸãƒƒãƒˆï¼ˆè©³ç´°ã¯ä¸‹è¨˜å‚ç…§ï¼‰
git commit -m "feat: Add new feature"
```

### 4. ãƒ—ãƒƒã‚·ãƒ¥

```bash
git push origin feature/your-feature-name
```

### 5. PRã®ä½œæˆ

1. GitHubã§PRã‚’ä½œæˆ
2. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«å¾“ã£ã¦èª¬æ˜ã‚’è¨˜å…¥
3. CI/CDãƒã‚§ãƒƒã‚¯ãŒé€šéã™ã‚‹ã“ã¨ã‚’ç¢ºèª
4. ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å¾…ã¤

## ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

### Rustã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¹ã‚¿ã‚¤ãƒ«

```bash
# ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¯è‡ªå‹•çš„ã«é©ç”¨ã•ã‚Œã‚‹
cargo fmt --all
```

### ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

1. **ãƒ¡ãƒ¢ãƒªå®‰å…¨æ€§**: `unsafe`ã¯å¿…è¦æœ€å°é™ã«
2. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: `Result`ã¨`Option`ã‚’é©åˆ‡ã«ä½¿ç”¨
3. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: ãƒ‘ãƒ–ãƒªãƒƒã‚¯APIã«ã¯å¿…ãšãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ 
4. **ãƒ†ã‚¹ãƒˆ**: æ–°æ©Ÿèƒ½ã«ã¯é©åˆ‡ãªãƒ†ã‚¹ãƒˆã‚’è¿½åŠ 

### ã‚³ãƒ¼ãƒ‰ä¾‹

```rust
/// ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€
///
/// # Arguments
///
/// * `path` - ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹
///
/// # Returns
///
/// * `Ok(String)` - ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹
/// * `Err(Error)` - ã‚¨ãƒ©ãƒ¼
pub fn read_file(path: &str) -> Result<String, Error> {
    // å®Ÿè£…
}
```

## ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

### ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

```
<type>: <subject>

<body>

<footer>
```

### Type

- `feat`: æ–°æ©Ÿèƒ½
- `fix`: ãƒã‚°ä¿®æ­£
- `docs`: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°
- `style`: ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›´ï¼ˆã‚³ãƒ¼ãƒ‰ã®å‹•ä½œã«å½±éŸ¿ãªã—ï¼‰
- `refactor`: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
- `test`: ãƒ†ã‚¹ãƒˆè¿½åŠ ãƒ»ä¿®æ­£
- `chore`: ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹ã‚„ãƒ„ãƒ¼ãƒ«ã®å¤‰æ›´

### ä¾‹

```
feat: Add terminal command history

Implement command history feature for the terminal.
Users can now navigate through previous commands using
arrow keys.

Closes #123
```

## CI/CDãƒã‚§ãƒƒã‚¯

ã™ã¹ã¦ã®PRã¯ä»¥ä¸‹ã®ãƒã‚§ãƒƒã‚¯ã«è‡ªå‹•çš„ã«åˆæ ¼ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼š

1. âœ… **Format Check** - `cargo fmt --all -- --check`
2. âœ… **Clippy Check** - `cargo clippy --lib --bins -- -D warnings`
3. âœ… **Build** - `cargo build --release --target x86_64-unknown-none`

**ã“ã‚Œã‚‰ã¯ãƒ­ãƒ¼ã‚«ãƒ«ã§äº‹å‰ã«ç¢ºèªã§ãã¾ã™ï¼ˆæ¨å¥¨ï¼‰ã€‚**

## è³ªå•ãƒ»ã‚µãƒãƒ¼ãƒˆ

- **Issue**: ãƒã‚°å ±å‘Šã‚„æ©Ÿèƒ½ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯[Issues](https://github.com/dev-mmiy/retron/issues)ã¸
- **Discussion**: ä¸€èˆ¬çš„ãªè³ªå•ã¯[Discussions](https://github.com/dev-mmiy/retron/discussions)ã¸

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨åŒã˜MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¾ã™ã€‚
