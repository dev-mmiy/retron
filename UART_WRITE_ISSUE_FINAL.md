# UART書き込み問題の最終分析

## 発見事項

### ✅ 正常に動作していること
- UARTCR = 0x301（UARTEN=1, TXE=1, RXE=1）✅
- `$x1` = 0x9000000（0x09000000と同じ値）✅
- `$x0` = 0x11（送信する文字）✅
- `str x0, [x1]`命令が実行されている✅

### ❌ 問題
- `str x0, [x1]`実行後も、UARTDR = 0x0のまま❌

## 考えられる原因

### 1. QEMUのUARTデバイスの問題
QEMUのPL011 UARTデバイスが、UARTDRへの書き込みを受け付けていない可能性があります。

### 2. メモリマッピングの問題
0x09000000への書き込みが、QEMUのUARTデバイスに正しくマッピングされていない可能性があります。

### 3. UARTDRの読み取り専用問題
UARTDRは書き込み専用レジスタの可能性があります。読み取ると常に0x0を返す可能性があります。

## 確認手順

### ステップ1: QEMUのシリアル出力を確認
QEMUを起動したターミナルに文字が表示されているか確認します。

### ステップ2: UARTDRの読み取り動作を確認
UARTDRは書き込み専用レジスタの可能性があります。書き込み後、読み取っても0x0のままかもしれません。

### ステップ3: QEMUのログを確認
QEMUのログにUART関連のメッセージがないか確認します。

## 解決方法

### 方法1: QEMUのシリアル出力を確認
UARTDRへの書き込みが実際に行われていて、QEMUのシリアル出力に文字が表示されている可能性があります。

### 方法2: UARTDRの読み取り動作を確認
UARTDRは書き込み専用レジスタの可能性があります。読み取っても0x0のままかもしれませんが、実際には書き込みは行われている可能性があります。

### 方法3: QEMUの設定を確認
QEMUのUARTデバイスの設定を確認し、必要に応じて修正します。
